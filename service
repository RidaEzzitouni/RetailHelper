
package ma.fst.tp1.service;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import ma.fst.tp1.bean.Commande;

/**
 *
 * @author lenovo
 */
public class CommandeService {

    /**
     * @param args the command line arguments
     */
    public Commande finByCode(String code, List<Commande> commandes) {
        for (Commande c : commandes) {
            if (c.getCode().equals(code)) {
                return c;
            }
        }
        return null;

    }

    public double chifreAffaire(List<Commande> commandes) {
        double total = 0;
        for (Commande c : commandes) {
            total += c.getMontantTotale();
        }
        return total;
    }

    public int payerEspese(String codeCommande, double montant, List<Commande> commandes) {
        Commande c = finByCode(codeCommande, commandes);
        if (c == null) {
            return -1;
        } else if (c.getMontantEspece() + montant > c.getMontantTotale()) {
            return -2;
        } else {
            c.setMontantEspece(c.getMontantEspece() + montant);
            return 1;
        }}
        public ArrayList findCommandeNonpPaye(ArrayList<Commande> Commandes){
             
            Iterator<Commande> it = Commandes.iterator();
            while(it.hasNext()){
            Commande c = it.next();
            if(c.getMontantTotale()<c.getMontantEspece()){
                System.out.println(c);
            }          
            }
            return Commandes;
    }
}
